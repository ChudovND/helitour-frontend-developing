{"version":3,"sources":["services.js"],"names":["index","Promise","resolve","image","Image","onerror","onload","width","src","catch","supportsWebp_commonJs","vhFix","setVh","document","documentElement","style","setProperty","window","innerHeight","addEventListener","webp","handle","domEl","querySelectorAll","forEach","el","hasAttribute","backgroundImage","getAttribute","MutationObserver","mutationList","observer","mutation","target","length","observe","attributes","childList","subtree","then","result","body","classList","add","headerPopup","controller","e","innerWidth","toggleBodyScrollable","control","toggle","c","content","innerHTML","setAttribute","stopPropagation","activeNav","nav","parentElement","querySelector","contains","maxHeight","scrollHeight","remove"],"mappings":"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","file":"services.js","sourcesContent":["/*! npm.im/supports-webp 2.0.1 */\n\nvar index = new Promise(function (resolve) {\n\tvar image = new Image();\n\timage.onerror = function () { return resolve(false); };\n\timage.onload = function () { return resolve(image.width === 1); };\n\timage.src = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=';\n}).catch(function () { return false; });\n\nvar supportsWebp_commonJs = index;\n\nconst vhFix = () => {\r\n  const setVh = () => document.documentElement.style.setProperty('--vh', `${window.innerHeight / 100}px`);\r\n  setVh();\r\n  window.addEventListener('resize', setVh);\r\n};\r\n\r\nconst webp = () => {\r\n  const handle = (domEl) => {\r\n    if (window.webp) {\r\n      domEl.querySelectorAll('[data-back-webp], [data-back-jpg]').forEach(el => {\r\n        if (el.hasAttribute('data-back-webp'))\r\n          el.style.backgroundImage = `url(${el.getAttribute('data-back-webp')})`;\r\n        else\r\n          el.style.backgroundImage = `url(${el.getAttribute('data-back-jpg')})`;\r\n      });\r\n    } else {\r\n      domEl.querySelectorAll('[data-back-jpg]').forEach(el => {\r\n        if (el.hasAttribute('data-back-jpg'))\r\n          el.style.backgroundImage = `url(${el.getAttribute('data-back-jpg')})`;\r\n      });\r\n    }\r\n  };\r\n  const observer = new MutationObserver((mutationList, observer) => {\r\n    mutationList.forEach(mutation => {\r\n      if (mutation.target.querySelectorAll('[data-back-webp], [data-back-jpg]').length)\r\n        handle(mutation.target);\r\n    });\r\n  });\r\n  observer.observe(document, {\r\n    attributes: true,\r\n    childList: true,\r\n    subtree: true\r\n  });\r\n  supportsWebp_commonJs.then(result => {\r\n    window.webp = result;\r\n    if (window.webp) {\r\n      document.body.classList.add('webp');\r\n    } else {\r\n      document.body.classList.add('no-webp');\r\n    }\r\n    handle(document);\r\n  });\r\n};\r\n\r\nconst headerPopup = () => {\r\n  document.querySelectorAll('.js__header-popup_controller').forEach(controller => {\r\n    controller.addEventListener('click', e => {\r\n      if (window.innerWidth <= 768) toggleBodyScrollable();\r\n      document.querySelectorAll('.js__header-popup_control').forEach(control => {\r\n        control.classList.toggle('header-extended_active');\r\n      });\r\n      document.querySelectorAll('.js__header-popup_controller-content').forEach(c => {\r\n        const content = c.innerHTML;\r\n        c.innerHTML = c.getAttribute('data-popup-content');\r\n        c.setAttribute('data-popup-content', content);\r\n      });\r\n      e.stopPropagation();\r\n    });\r\n  });\r\n  let activeNav = null;\r\n  document.querySelectorAll('.js__header-nav_control').forEach(control => {\r\n    control.addEventListener('click', (e) => {\r\n      let target = e.target;\r\n      target.classList.toggle('active');\r\n      const nav = target.parentElement.querySelector('.js__header-nav_controller');\r\n      if (target.classList.contains('active')) {\r\n        nav.style.maxHeight = `${nav.scrollHeight + 100}px`;\r\n        if (activeNav) {\r\n          activeNav.classList.remove('active');\r\n          activeNav.parentElement.querySelector('.js__header-nav_controller').style.maxHeight = `0px`;\r\n        }\r\n        activeNav = target;\r\n      } else {\r\n        nav.style.maxHeight = `0px`;\r\n        activeNav = null;\r\n      }\r\n      e.stopPropagation();\r\n    });\r\n  });\r\n  document.querySelector('.header-extended.js__header-popup_control').addEventListener('click', e => {\r\n    e.stopPropagation();\r\n  });\r\n  window.addEventListener('click', () => {\r\n    if (activeNav) {\r\n      activeNav.classList.remove('active');\r\n      activeNav.parentElement.querySelector('.js__header-nav_controller').style.maxHeight = `0px`;\r\n    }\r\n    activeNav = null;\r\n\r\n    let isActiveHeader = document.querySelector('.header-extended.js__header-popup_control')\r\n      .classList.contains('header-extended_active');\r\n    if (isActiveHeader) {\r\n      if (window.innerWidth <= 768) {\r\n        toggleBodyScrollable();\r\n      }\r\n      document.querySelectorAll('.js__header-popup_control').forEach(control => {\r\n        control.classList.toggle('header-extended_active');\r\n      });\r\n      document.querySelectorAll('.js__header-popup_controller-content').forEach(c => {\r\n        const content = c.innerHTML;\r\n        c.innerHTML = c.getAttribute('data-popup-content');\r\n        c.setAttribute('data-popup-content', content);\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nconst toggleBodyScrollable = () => {\r\n  document.documentElement.classList.toggle('noscroll');\r\n};\n\nwebp();\r\nheaderPopup();\r\nvhFix();\n"]}