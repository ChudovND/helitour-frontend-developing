{"version":3,"names":[],"mappings":"","sources":["services.js"],"sourcesContent":["/*! npm.im/supports-webp 2.0.1 */\n\nvar index = new Promise(function (resolve) {\n\tvar image = new Image();\n\timage.onerror = function () { return resolve(false); };\n\timage.onload = function () { return resolve(image.width === 1); };\n\timage.src = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=';\n}).catch(function () { return false; });\n\nvar supportsWebp_commonJs = index;\n\nconst vhFix = () => {\r\n  const setVh = () => document.documentElement.style.setProperty('--vh', `${window.innerHeight / 100}px`);\r\n  setVh();\r\n  window.addEventListener('resize', setVh);\r\n};\r\n\r\nconst webp = () => {\r\n  supportsWebp_commonJs.then(result => {\r\n    if (result) {\r\n      document.querySelectorAll('[data-back-webp], [data-back-jpg]').forEach(el => {\r\n        if (el.hasAttribute('data-back-webp'))\r\n          el.style.backgroundImage = `url(${el.getAttribute('data-back-webp')})`;\r\n        else\r\n          el.style.backgroundImage = `url(${el.getAttribute('data-back-jpg')})`;\r\n      });\r\n    } else {\r\n      document.querySelectorAll('[data-back-jpg]').forEach(el => {\r\n        if (el.hasAttribute('data-back-jpg'))\r\n          el.style.backgroundImage = `url(${el.getAttribute('data-back-jpg')})`;\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nconst headerPopup = () => {\r\n  document.querySelectorAll('.js__header-popup_controller').forEach(controller => {\r\n    controller.addEventListener('click', e => {\r\n      if (window.innerWidth <= 768) toggleBodyScrollable();\r\n      document.querySelectorAll('.js__header-popup_control').forEach(control => {\r\n        control.classList.toggle('header-extended_active');\r\n      });\r\n      document.querySelectorAll('.js__header-popup_controller-content').forEach(c => {\r\n        const content = c.innerHTML;\r\n        c.innerHTML = c.getAttribute('data-popup-content');\r\n        c.setAttribute('data-popup-content', content);\r\n      });\r\n      e.stopPropagation();\r\n    });\r\n  });\r\n  let activeNav = null;\r\n  document.querySelectorAll('.js__header-nav_control').forEach(control => {\r\n    control.addEventListener('click', (e) => {\r\n      let target = e.target;\r\n      target.classList.toggle('active');\r\n      const nav = target.parentElement.querySelector('.js__header-nav_controller');\r\n      if (target.classList.contains('active')) {\r\n        nav.style.maxHeight = `${nav.scrollHeight + 100}px`;\r\n        if (activeNav) {\r\n          activeNav.classList.remove('active');\r\n          activeNav.parentElement.querySelector('.js__header-nav_controller').style.maxHeight = `0px`;\r\n        }\r\n        activeNav = target;\r\n      } else {\r\n        nav.style.maxHeight = `0px`;\r\n        activeNav = null;\r\n      }\r\n      e.stopPropagation();\r\n    });\r\n  });\r\n  document.querySelector('.header-extended.js__header-popup_control').addEventListener('click', e => {\r\n    e.stopPropagation();\r\n  });\r\n  window.addEventListener('click', () => {\r\n    if (activeNav) {\r\n      activeNav.classList.remove('active');\r\n      activeNav.parentElement.querySelector('.js__header-nav_controller').style.maxHeight = `0px`;\r\n    }\r\n    activeNav = null;\r\n\r\n    let isActiveHeader = document.querySelector('.header-extended.js__header-popup_control')\r\n      .classList.contains('header-extended_active');\r\n    if (isActiveHeader) {\r\n      if (window.innerWidth <= 768) {\r\n        toggleBodyScrollable();\r\n      }\r\n      document.querySelectorAll('.js__header-popup_control').forEach(control => {\r\n        control.classList.toggle('header-extended_active');\r\n      });\r\n      document.querySelectorAll('.js__header-popup_controller-content').forEach(c => {\r\n        const content = c.innerHTML;\r\n        c.innerHTML = c.getAttribute('data-popup-content');\r\n        c.setAttribute('data-popup-content', content);\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nconst toggleBodyScrollable = () => {\r\n  document.body.classList.toggle('noscroll');\r\n};\n\nwebp();\r\nheaderPopup();\r\nvhFix();\n"],"file":"services.js"}